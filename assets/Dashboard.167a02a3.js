import{Q}from"./QPage.43bd8dc4.js";import{a as l,Q as r}from"./QCard.4a84081b.js";import{g as i}from"./get-css-var.23548d6a.js";import{u as f}from"./index.db2df67e.js";import{u as $}from"./sale-store.a07051a0.js";import{j as S,r as k,aQ as C,aI as u,a3 as q,bb as e,d as a,a6 as t,a5 as x,bD as v,ac as _,P as d,u as n,a4 as y}from"./index.e2e1918c.js";import{u as w}from"./account-store.b0d455aa.js";import{Q as b}from"./QSeparator.8ac7ae0f.js";import"./use-dark.793ae17e.js";import"./module_calls.c637478d.js";import"./helpers.d60dad50.js";const B={__name:"BarChart",setup(p){const o=$(),m=S({title:{text:"Sales Records for the last seven days",align:"left"},chart:{id:"apex-column"},colors:[i("primary"),i("secondary"),i("negative")],xaxis:{categories:[]},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}}}),h=k([{name:"Sales",data:[]}]);return f("sales",()=>o.fetchSevenDaysSales(),{onSuccess:c=>{console.log(c.some(s=>s.sales>0)),m.xaxis.categories=c.map(s=>s.day),h.value[0].data=c.map(s=>s.sales)}}),(c,s)=>{const g=C("apexchart");return u(),q(l,{class:"q-pa-sm"},{default:e(()=>[a(g,{height:"300",type:"bar",options:m,series:h.value},null,8,["options","series"])]),_:1})}}},P={__name:"PieChart",setup(p){const o=w();f("product_sales",()=>o.fetchProductSales(),{onSuccess:c=>{h.value=c.map(s=>s.quantity),m.labels=c.map(s=>s.name)}});const m=S({title:{text:"Todays Product Sales",align:"left"},chart:{id:"apex-donut"},colors:[i("secondary"),i("accent"),i("positive"),i("primary"),i("negative"),i("info")],markers:{size:4,hover:{sizeOffset:6}},labels:[]}),h=k([]);return(c,s)=>{const g=C("apexchart");return u(),q(l,null,{default:e(()=>[a(r,null,{default:e(()=>[a(g,{height:"300",type:"pie",options:m,series:h.value},null,8,["options","series"])]),_:1})]),_:1})}}},N={class:"row q-col-gutter-sm q-ml-xs q-mr-sm q-py-sm"},T={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},M={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},V={__name:"Main",setup(p){return(o,m)=>(u(),q(Q,null,{default:e(()=>[t("div",N,[t("div",T,[a(B)]),t("div",M,[a(P)])])]),_:1}))}},D={class:"row q-col-gutter-sm q-ml-xs q-mr-sm q-py-sm"},z={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},A={class:"text-center q-pa-sm"},I={style:{color:"#017951"}},O={class:"row q-pa-sm"},j={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},E=t("hr",null,null,-1),R={class:"q-ma-sm"},W={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},F=t("hr",null,null,-1),G={class:"q-ma-sm"},H={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},J=t("hr",null,null,-1),K={class:"q-ma-sm"},L={class:"row q-pa-sm"},U={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},X=t("hr",null,null,-1),Y={class:"q-ma-sm"},Z={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},ss=t("hr",null,null,-1),ts={class:"q-ma-sm"},as={key:0,class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},es=t("hr",null,null,-1),os={class:"q-ma-sm"},ls={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},cs={class:"text-center q-pa-sm"},_s={style:{color:"#017951"}},ns={class:"row q-pa-sm"},rs={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},ds=t("hr",null,null,-1),is={class:"q-ma-sm"},ms={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},us=t("hr",null,null,-1),hs={class:"q-ma-sm"},ps={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},xs=t("hr",null,null,-1),fs={class:"q-ma-sm"},gs={class:"row q-pa-sm"},qs={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},vs=t("hr",null,null,-1),ys={class:"q-ma-sm"},bs={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},Ss=t("hr",null,null,-1),ks={class:"q-ma-sm"},Cs={key:0,class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},ws=t("hr",null,null,-1),Qs={class:"q-ma-sm"},$s={__name:"Stats",setup(p){const o=w();return f("account_stats_today",()=>o.fetchTodaySalesStats()),f("account_stats_all",()=>o.fetchAllSalesStats()),(m,h)=>(u(),x("div",D,[t("div",z,[a(l,null,{default:e(()=>{var c;return[t("div",A,[t("b",I,[a(v,{name:"grain"}),_(" Today Sales")])]),a(b,{color:"primary"}),t("div",O,[t("div",j,[a(l,{dark:"",class:"bg-primary"},{default:e(()=>[a(r,{class:"text-center"},{default:e(()=>{var s;return[_(" Total "),E,t("h5",R,d((s=n(o))==null?void 0:s.total_daily_sales),1)]}),_:1})]),_:1})]),t("div",W,[a(l,{dark:"",class:"bg-info"},{default:e(()=>[a(r,{class:"text-center"},{default:e(()=>{var s;return[_(" Cash "),F,t("h5",G,d((s=n(o))==null?void 0:s.total_daily_cash_sales),1)]}),_:1})]),_:1})]),t("div",H,[a(l,{dark:"",class:"bg-warning"},{default:e(()=>[a(r,{class:"text-center"},{default:e(()=>{var s;return[_(" Mpesa "),J,t("h5",K,d((s=n(o))==null?void 0:s.total_daily_mpesa_sales),1)]}),_:1})]),_:1})])]),t("div",L,[t("div",U,[a(l,{dark:"",class:"bg-warning"},{default:e(()=>[a(r,{class:"text-center"},{default:e(()=>{var s;return[_(" Mpesa & Cash "),X,t("h5",Y,d((s=n(o))==null?void 0:s.total_daily_mpesa_cash_sales),1)]}),_:1})]),_:1})]),t("div",Z,[a(l,{dark:"",class:"bg-brown"},{default:e(()=>[a(r,{class:"text-center"},{default:e(()=>{var s;return[_(" Card "),ss,t("h5",ts,d((s=n(o))==null?void 0:s.total_daily_card_sales),1)]}),_:1})]),_:1})]),((c=n(o))==null?void 0:c.total_daily_pending_sales)>0?(u(),x("div",as,[a(l,{dark:"",style:{"background-color":"red"}},{default:e(()=>[a(r,{class:"text-center"},{default:e(()=>{var s;return[_(" No. of Pending Bills "),es,t("h5",os,d((s=n(o))==null?void 0:s.total_daily_pending_sales),1)]}),_:1})]),_:1})])):y("",!0)])]}),_:1})]),t("div",ls,[a(l,null,{default:e(()=>{var c;return[t("div",cs,[t("b",_s,[a(v,{name:"grain"}),_(" All Sales")])]),a(b,{color:"primary"}),t("div",ns,[t("div",rs,[a(l,{dark:"",class:"bg-primary"},{default:e(()=>[a(r,{class:"text-center"},{default:e(()=>{var s;return[_(" Total "),ds,t("h5",is,d((s=n(o))==null?void 0:s.total_sales),1)]}),_:1})]),_:1})]),t("div",ms,[a(l,{dark:"",class:"bg-info"},{default:e(()=>[a(r,{class:"text-center"},{default:e(()=>{var s;return[_(" Cash "),us,t("h5",hs,d((s=n(o))==null?void 0:s.total_cash_sales),1)]}),_:1})]),_:1})]),t("div",ps,[a(l,{dark:"",class:"bg-warning"},{default:e(()=>[a(r,{class:"text-center"},{default:e(()=>{var s;return[_(" Mpesa "),xs,t("h5",fs,d((s=n(o))==null?void 0:s.total_mpesa_sales),1)]}),_:1})]),_:1})])]),t("div",gs,[t("div",qs,[a(l,{dark:"",class:"bg-warning"},{default:e(()=>[a(r,{class:"text-center"},{default:e(()=>{var s;return[_(" Mpesa & Card "),vs,t("h5",ys,d((s=n(o))==null?void 0:s.total_mpesa_cash_sales),1)]}),_:1})]),_:1})]),t("div",bs,[a(l,{dark:"",class:"bg-brown"},{default:e(()=>[a(r,{class:"text-center"},{default:e(()=>{var s;return[_(" Card "),Ss,t("h5",ks,d((s=n(o))==null?void 0:s.total_card_sales),1)]}),_:1})]),_:1})]),((c=n(o))==null?void 0:c.total_pending_sales)>0?(u(),x("div",Cs,[a(l,{dark:"",style:{"background-color":"red"}},{default:e(()=>[a(r,{class:"text-center"},{default:e(()=>{var s;return[_(" No. of Pending Bills "),ws,t("h5",Qs,d((s=n(o))==null?void 0:s.total_pending_sales),1)]}),_:1})]),_:1})])):y("",!0)])]}),_:1})])]))}},Bs={class:"q-pa-sm"},Es={__name:"Dashboard",setup(p){return(o,m)=>(u(),x("div",Bs,[a($s),a(V)]))}};export{Es as default};
