import{c1 as C,aJ as b,a4 as w,bb as e,a7 as t,d as a,bD as n,ad as _,Q as r,u as d,a6 as q,a5 as v,bE as $,aM as V,aK as E,j as T,r as N,aR as M}from"./index.8298741d.js";import{Q as i}from"./QSeparator.e342aaa8.js";import{a as m,Q as c,b as O,h as D}from"./helpers.fb1c13fb.js";import{Q as p,a as o,b as A}from"./QList.872f9e9f.js";import{u as S}from"./index.aeab1b1a.js";import{u as P}from"./account-store.7ec242d4.js";import{g}from"./get-css-var.23548d6a.js";import{u as J}from"./sale-store.6a7d6a6a.js";import{u as L}from"./auth-store.9c8fb764.js";import{u as R}from"./user-store.5cc7128f.js";import"./use-dark.d4d7a4ef.js";import"./module_calls.83889699.js";const j={class:"text-center q-pa-sm"},K={style:{color:"#017951"}},U={class:"desktop_stats row q-pa-sm"},W={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},F={class:"q-ma-sm small_text"},G={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},H={class:"q-ma-sm small_text"},X={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},Y={class:"q-ma-sm small_text"},Z={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},aa={class:"q-ma-sm small_text"},sa={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},ea={class:"q-ma-sm small_text"},ta={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},la={class:"q-ma-sm small_text"},oa={key:0,class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},da={class:"q-ma-sm small_text"},_a={key:1,class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},ra={class:"q-ma-sm small_text"},ca={class:"mobile_stats q-pa-sm"},na={__name:"StatsToday",setup(x){const l=P();return S("account_stats_today",()=>l.fetchTodaySalesStats()),(y,f)=>(b(),w(c,{flat:"",class:"card_border"},{default:e(()=>{var h,u;return[t("div",j,[t("b",K,[a(n,{name:"grain"}),_(" Today Sales")])]),a(i,{color:"primary"}),t("div",U,[t("div",W,[a(c,{dark:"",class:"shadow-2 total_grad card_border"},{default:e(()=>[a(m,{class:"text-center"},{default:e(()=>{var s;return[_(" Total "),a(i,{color:"white",inset:""}),t("h6",F,r((s=d(l))==null?void 0:s.total_daily_sales),1)]}),_:1})]),_:1})]),t("div",G,[a(c,{dark:"",class:"shadow-2 cash_grad card_border"},{default:e(()=>[a(m,{class:"text-center"},{default:e(()=>{var s;return[_(" Cash "),a(i,{color:"white",inset:""}),t("h6",H,r((s=d(l))==null?void 0:s.total_daily_cash_sales),1)]}),_:1})]),_:1})]),t("div",X,[a(c,{dark:"",class:"shadow-2 mpesa_grad card_border"},{default:e(()=>[a(m,{class:"text-center"},{default:e(()=>{var s;return[_(" Mpesa "),a(i,{color:"white",inset:""}),t("h6",Y,r((s=d(l))==null?void 0:s.total_daily_mpesa_sales),1)]}),_:1})]),_:1})]),t("div",Z,[a(c,{dark:"",class:"shadow-2 mpesa_cash_grad card_border"},{default:e(()=>[a(m,{class:"text-center"},{default:e(()=>{var s;return[_(" Mpesa & Cash "),a(i,{color:"white",inset:""}),t("h6",aa,r((s=d(l))==null?void 0:s.total_daily_mpesa_cash_sales),1)]}),_:1})]),_:1})]),t("div",sa,[a(c,{dark:"",class:"shadow-2 debts_grad card_border"},{default:e(()=>[a(m,{class:"text-center"},{default:e(()=>{var s;return[_(" Debts "),a(i,{color:"white",inset:""}),t("h6",ea,r((s=d(l))==null?void 0:s.total_daily_debt_sales),1)]}),_:1})]),_:1})]),t("div",ta,[a(c,{dark:"",class:"shadow-2 card_grad card_border"},{default:e(()=>[a(m,{class:"text-center"},{default:e(()=>{var s;return[_(" Card "),a(i,{color:"white",inset:""}),t("h6",la,r((s=d(l))==null?void 0:s.total_daily_card_sales),1)]}),_:1})]),_:1})]),((h=d(l))==null?void 0:h.total_daily_pending_sales)>0?(b(),q("div",oa,[a(c,{dark:"",class:"shadow-2 pending_grad card_border"},{default:e(()=>[a(m,{class:"text-center"},{default:e(()=>{var s;return[_(" No. of Pending Bills "),a(i,{color:"white",inset:""}),t("h6",da,r((s=d(l))==null?void 0:s.total_daily_pending_sales),1)]}),_:1})]),_:1})])):v("",!0),((u=d(l))==null?void 0:u.total_daily_pending_sales)>0?(b(),q("div",_a,[a(c,{dark:"",class:"shadow-2 purchases_grad card_border"},{default:e(()=>[a(m,{class:"text-center"},{default:e(()=>{var s;return[_(" Purchases/Inventory "),a(i,{color:"white",inset:""}),t("h6",ra,r((s=d(l))==null?void 0:s.total_daily_expense),1)]}),_:1})]),_:1})])):v("",!0)]),t("div",ca,[a(A,null,{default:e(()=>[a(p,{dark:"",class:"q-my-sm total_grad card_border"},{default:e(()=>[a(o,{avatar:""},{default:e(()=>[a(n,{name:"blur_on"})]),_:1}),a(o,null,{default:e(()=>[_("Total")]),_:1}),a(o,{side:""},{default:e(()=>{var s;return[t("b",null,r((s=d(l))==null?void 0:s.total_daily_sales),1)]}),_:1})]),_:1}),a(p,{dark:"",class:"q-my-sm cash_grad card_border"},{default:e(()=>[a(o,{avatar:""},{default:e(()=>[a(n,{name:"blur_on"})]),_:1}),a(o,null,{default:e(()=>[_("Cash")]),_:1}),a(o,{side:""},{default:e(()=>{var s;return[t("b",null,r((s=d(l))==null?void 0:s.total_daily_cash_sales),1)]}),_:1})]),_:1}),a(p,{dark:"",class:"q-my-sm mpesa_grad card_border"},{default:e(()=>[a(o,{avatar:""},{default:e(()=>[a(n,{name:"blur_on"})]),_:1}),a(o,null,{default:e(()=>[_("Mpesa")]),_:1}),a(o,{side:""},{default:e(()=>{var s;return[t("b",null,r((s=d(l))==null?void 0:s.total_daily_mpesa_sales),1)]}),_:1})]),_:1}),a(p,{dark:"",class:"q-my-sm mpesa_cash_grad card_border"},{default:e(()=>[a(o,{avatar:""},{default:e(()=>[a(n,{name:"blur_on"})]),_:1}),a(o,null,{default:e(()=>[_("Mpesa & Cash")]),_:1}),a(o,{side:""},{default:e(()=>{var s;return[t("b",null,r((s=d(l))==null?void 0:s.total_daily_mpesa_cash_sales),1)]}),_:1})]),_:1}),a(p,{dark:"",class:"q-my-sm debts_grad card_border"},{default:e(()=>[a(o,{avatar:""},{default:e(()=>[a(n,{name:"blur_on"})]),_:1}),a(o,null,{default:e(()=>[_("Debts")]),_:1}),a(o,{side:""},{default:e(()=>{var s;return[t("b",null,r((s=d(l))==null?void 0:s.total_daily_debt_sales),1)]}),_:1})]),_:1}),a(p,{dark:"",class:"q-my-sm card_grad card_border"},{default:e(()=>[a(o,{avatar:""},{default:e(()=>[a(n,{name:"blur_on"})]),_:1}),a(o,null,{default:e(()=>[_("Card")]),_:1}),a(o,{side:""},{default:e(()=>{var s;return[t("b",null,r((s=d(l))==null?void 0:s.total_daily_card_sales),1)]}),_:1})]),_:1}),a(p,{dark:"",class:"q-my-sm pending_grad card_border"},{default:e(()=>[a(o,{avatar:""},{default:e(()=>[a(n,{name:"blur_on"})]),_:1}),a(o,null,{default:e(()=>[_("No. of Pending Bills")]),_:1}),a(o,{side:""},{default:e(()=>{var s;return[t("b",null,r((s=d(l))==null?void 0:s.total_daily_pending_sales),1)]}),_:1})]),_:1}),a(p,{dark:"",class:"q-my-sm purchases_grad card_border"},{default:e(()=>[a(o,{avatar:""},{default:e(()=>[a(n,{name:"blur_on"})]),_:1}),a(o,null,{default:e(()=>[_("Purchases/Inventory")]),_:1}),a(o,{side:""},{default:e(()=>{var s;return[t("b",null,r((s=d(l))==null?void 0:s.total_daily_expense),1)]}),_:1})]),_:1})]),_:1})])]}),_:1}))}};var ia=C(na,[["__scopeId","data-v-1a874601"]]);const z=x=>(V("data-v-24b4e4f9"),x=x(),E(),x),ua={class:"text-center q-pa-sm"},ma={style:{color:"#017951"}},ha={class:"desktop_stats row q-pa-sm"},pa={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},fa=z(()=>t("br",null,null,-1)),ba={class:"q-ma-sm small_text"},xa={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},va={class:"q-ma-sm small_text"},ya={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},ga={class:"q-ma-sm small_text"},qa={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},ka={class:"q-ma-sm small_text"},wa={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},Sa={class:"q-ma-sm small_text"},$a={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},Ca={class:"q-ma-sm small_text"},Pa={key:0,class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},Ba={class:"q-ma-sm small_text"},Ia={key:1,class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},Qa=z(()=>t("br",null,null,-1)),Da={class:"q-ma-sm small_text"},Ta={class:"mobile_stats q-pa-sm"},Na={__name:"StatsAll",setup(x){const l=P();return S("account_stats_all",()=>l.fetchAllSalesStats()),(y,f)=>(b(),w(c,{flat:"",class:"card_border"},{default:e(()=>{var h,u;return[t("div",ua,[t("b",ma,[a(n,{name:"grain"}),_(" All Sales")])]),a(i,{color:"primary"}),t("div",ha,[t("div",pa,[a(c,{dark:"",class:"shadow-2 total_grad card_border"},{default:e(()=>[a(m,{class:"text-center"},{default:e(()=>{var s;return[_(" Total "),fa,a($,{size:"xs",flat:"",label:"view more",to:"/sales"}),a(i,{color:"white",inset:""}),t("h6",ba,r((s=d(l))==null?void 0:s.total_sales),1)]}),_:1})]),_:1})]),t("div",xa,[a(c,{dark:"",class:"shadow-2 cash_grad card_border"},{default:e(()=>[a(m,{class:"text-center"},{default:e(()=>{var s;return[_(" Cash "),a(i,{color:"white",inset:""}),t("h6",va,r((s=d(l))==null?void 0:s.total_cash_sales),1)]}),_:1})]),_:1})]),t("div",ya,[a(c,{dark:"",class:"shadow-2 mpesa_grad card_border"},{default:e(()=>[a(m,{class:"text-center"},{default:e(()=>{var s;return[_(" Mpesa "),a(i,{color:"white",inset:""}),t("h6",ga,r((s=d(l))==null?void 0:s.total_mpesa_sales),1)]}),_:1})]),_:1})]),t("div",qa,[a(c,{dark:"",class:"shadow-2 mpesa_cash_grad card_border"},{default:e(()=>[a(m,{class:"text-center"},{default:e(()=>{var s;return[_(" Mpesa & Cash "),a(i,{color:"white",inset:""}),t("h6",ka,r((s=d(l))==null?void 0:s.total_mpesa_cash_sales),1)]}),_:1})]),_:1})]),t("div",wa,[a(c,{dark:"",class:"shadow-2 debts_grad card_border"},{default:e(()=>[a(m,{class:"text-center"},{default:e(()=>{var s;return[_(" Debts "),a(i,{color:"white",inset:""}),t("h6",Sa,r((s=d(l))==null?void 0:s.total_debt_sales),1)]}),_:1})]),_:1})]),t("div",$a,[a(c,{dark:"",class:"shadow-2 card_grad card_border"},{default:e(()=>[a(m,{class:"text-center"},{default:e(()=>{var s;return[_(" Card "),a(i,{color:"white",inset:""}),t("h6",Ca,r((s=d(l))==null?void 0:s.total_card_sales),1)]}),_:1})]),_:1})]),((h=d(l))==null?void 0:h.total_pending_sales)>0?(b(),q("div",Pa,[a(c,{dark:"",class:"shadow-2 pending_grad card_border"},{default:e(()=>[a(m,{class:"text-center"},{default:e(()=>{var s;return[_(" No. of Pending Bills "),a(i,{color:"white",inset:""}),t("h6",Ba,r((s=d(l))==null?void 0:s.total_pending_sales),1)]}),_:1})]),_:1})])):v("",!0),((u=d(l))==null?void 0:u.total_pending_sales)>0?(b(),q("div",Ia,[a(c,{dark:"",class:"shadow-2 purchases_grad card_border"},{default:e(()=>[a(m,{class:"text-center"},{default:e(()=>{var s;return[_(" Purchases/Inventories "),Qa,a($,{size:"xs",flat:"",label:"view more",to:"/inventories"}),a(i,{color:"white",inset:""}),t("h6",Da,r((s=d(l))==null?void 0:s.total_expense),1)]}),_:1})]),_:1})])):v("",!0)]),t("div",Ta,[a(A,null,{default:e(()=>[a(p,{dark:"",class:"q-my-sm total_grad card_border"},{default:e(()=>[a(o,{avatar:""},{default:e(()=>[a(n,{name:"blur_on"})]),_:1}),a(o,null,{default:e(()=>[_("Total")]),_:1}),a(o,{side:""},{default:e(()=>{var s;return[t("b",null,r((s=d(l))==null?void 0:s.total_sales),1)]}),_:1})]),_:1}),a(p,{dark:"",class:"q-my-sm cash_grad card_border"},{default:e(()=>[a(o,{avatar:""},{default:e(()=>[a(n,{name:"blur_on"})]),_:1}),a(o,null,{default:e(()=>[_("Cash")]),_:1}),a(o,{side:""},{default:e(()=>{var s;return[t("b",null,r((s=d(l))==null?void 0:s.total_cash_sales),1)]}),_:1})]),_:1}),a(p,{dark:"",class:"q-my-sm mpesa_grad card_border"},{default:e(()=>[a(o,{avatar:""},{default:e(()=>[a(n,{name:"blur_on"})]),_:1}),a(o,null,{default:e(()=>[_("Mpesa")]),_:1}),a(o,{side:""},{default:e(()=>{var s;return[t("b",null,r((s=d(l))==null?void 0:s.total_mpesa_sales),1)]}),_:1})]),_:1}),a(p,{dark:"",class:"q-my-sm mpesa_cash_grad card_border"},{default:e(()=>[a(o,{avatar:""},{default:e(()=>[a(n,{name:"blur_on"})]),_:1}),a(o,null,{default:e(()=>[_("Mpesa & Cash")]),_:1}),a(o,{side:""},{default:e(()=>{var s;return[t("b",null,r((s=d(l))==null?void 0:s.total_mpesa_cash_sales),1)]}),_:1})]),_:1}),a(p,{dark:"",class:"q-my-sm debts_grad card_border"},{default:e(()=>[a(o,{avatar:""},{default:e(()=>[a(n,{name:"blur_on"})]),_:1}),a(o,null,{default:e(()=>[_("Debts")]),_:1}),a(o,{side:""},{default:e(()=>{var s;return[t("b",null,r((s=d(l))==null?void 0:s.total_debt_sales),1)]}),_:1})]),_:1}),a(p,{dark:"",class:"q-my-sm card_grad card_border"},{default:e(()=>[a(o,{avatar:""},{default:e(()=>[a(n,{name:"blur_on"})]),_:1}),a(o,null,{default:e(()=>[_("Card")]),_:1}),a(o,{side:""},{default:e(()=>{var s;return[t("b",null,r((s=d(l))==null?void 0:s.total_card_sales),1)]}),_:1})]),_:1}),a(p,{dark:"",class:"q-my-sm pending_grad card_border"},{default:e(()=>[a(o,{avatar:""},{default:e(()=>[a(n,{name:"blur_on"})]),_:1}),a(o,null,{default:e(()=>[_("No. of Pending Bills")]),_:1}),a(o,{side:""},{default:e(()=>{var s;return[t("b",null,r((s=d(l))==null?void 0:s.total_pending_sales),1)]}),_:1})]),_:1}),a(p,{dark:"",class:"q-my-sm purchases_grad card_border"},{default:e(()=>[a(o,{avatar:""},{default:e(()=>[a(n,{name:"blur_on"})]),_:1}),a(o,null,{default:e(()=>[_("Purchases/Inventory")]),_:1}),a(o,{side:""},{default:e(()=>{var s;return[t("b",null,r((s=d(l))==null?void 0:s.total_expense),1)]}),_:1})]),_:1})]),_:1})])]}),_:1}))}};var Ma=C(Na,[["__scopeId","data-v-24b4e4f9"]]);const Aa={__name:"BarChart",setup(x){const l=J(),y=T({title:{text:"Sales Records for the last seven days",align:"left"},chart:{id:"apex-column"},colors:[g("primary"),g("secondary"),g("negative")],xaxis:{categories:[],title:{text:"Date/Days"}},yaxis:{title:{text:"Amount"}},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}}}),f=N([{name:"Sales",data:[]}]);return S("sales",()=>l.fetchSevenDaysSales(),{onSuccess:h=>{var u,s;y.xaxis.categories=(u=h.map(k=>k.day))==null?void 0:u.reverse(),f.value[0].data=(s=h.map(k=>k.sales))==null?void 0:s.reverse()}}),(h,u)=>{const s=M("apexchart");return f.value[0].data.length>0?(b(),w(c,{key:0,style:{"border-radius":"8px"},class:"q-pa-sm"},{default:e(()=>[f.value[0].data.length?(b(),w(s,{key:0,type:"bar",options:y,series:f.value},null,8,["options","series"])):v("",!0)]),_:1})):v("",!0)}}},za={__name:"PieChart",setup(x){const l=P();S("today_product_sales",()=>l.fetchTodayProductSales(),{onSuccess:h=>{f.value=h.map(u=>u.quantity),y.labels=h.map(u=>u.name)}});const y=T({title:{text:"Todays Product Sales",align:"left"},chart:{id:"apex-donut"},colors:[g("secondary"),g("accent"),g("positive"),g("primary"),g("negative"),g("info")],markers:{size:4,hover:{sizeOffset:6}},labels:[]}),f=N([]);return(h,u)=>{const s=M("apexchart");return f.value.length>0?(b(),w(c,{key:0,style:{"border-radius":"8px"}},{default:e(()=>[a(m,null,{default:e(()=>[f.value.length>0?(b(),w(s,{key:0,type:"pie",options:y,series:f.value,height:358},null,8,["options","series"])):v("",!0)]),_:1})]),_:1})):v("",!0)}}},Va=x=>{navigator.sendBeacon?window.addEventListener("visibilitychange",l=>{console.log(l),navigator.sendBeacon(`${O}/send_notification`,JSON.stringify(x))}):alert("Browser does not support send beacon.")};const Ea={class:"q-pa-sm"},Oa={class:"row q-col-gutter-sm q-ml-xs q-mr-sm q-py-sm"},Ja={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},La={key:0,class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},Ra={key:1,class:"col-lg-6 col-md-6 col-sm-12 col-xs-12 desktop_stats"},ja={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12 desktop_stats"},Ka={__name:"Dashboard",setup(x){const l=L();R();const y=async()=>{const f=await Va({title:"Sales Management App",body:"Notice from dashboard"});console.log(f)};return(f,h)=>{var u,s,k,B,I,Q;return b(),q("div",Ea,[a($,{label:"Send Push Notification",onClick:h[0]||(h[0]=Ua=>y())}),t("div",Oa,[t("div",Ja,[a(ia)]),d(D)((k=(s=(u=d(l))==null?void 0:u.user)==null?void 0:s.user)==null?void 0:k.roles)?(b(),q("div",La,[a(Ma)])):v("",!0),d(D)((Q=(I=(B=d(l))==null?void 0:B.user)==null?void 0:I.user)==null?void 0:Q.roles)?(b(),q("div",Ra,[a(Aa)])):v("",!0),t("div",ja,[a(za)])])])}}};var os=C(Ka,[["__scopeId","data-v-43e41de5"]]);export{os as default};
